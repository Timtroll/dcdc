# Тестовые команды для пользователя #

>Сейчас выделены тестовые команды для проверки передачи данных по *UART*, 
работы главного парсера, общей работы FreeRTOS. Большая часть команд будет заменена и сейчас представляет отладку. 

## SET команды ##
Были выделены две возможные группы, которыми может управлять пользователь(*в данный момент*) - **charger** и **charging**. 

Первая группа отвечает за управление устройством на выходе и выбором источника, с которого подается напряжение. 
Вторая группа позволяет управлять зарядкой аккумуляторов.

### Charger ###
* set *charger* start - начать выходную генерацию PWM.
* set *charger* stop - остановить выходную генерацию PWM.
* set *charger* mode **uint8_t mode** - выбор источника, с которого будет подаваться напряжение. Это либо аккумуляторы устройства - AKK, либо с генератора - GEN.
* set *charger* akk **uint8_t akk** - выбор аккумулятора AKK1, AKK2 , если выбран режим AKK.
* set *charger* pulse_widght **uint8_t pulse_widght** - параметр, позволяющий управлять ШИМом на выходе. Принимает значение от **2** до **49**.

### Charging ###
* set *charging* period **uint16_t time** - время дискретизации в мс. Принимает значение от **500** до **32000**.
* set *charging* mode - уставновить режим зарядки DEFAULT, ONE_AKK, FULL_DISCHARGE.
* set *charging* akk - установить значение аккумулятора для зарядки АКК1, АКК2.
* set *charging* start - включить зарядку аккумулятора. 
* set *charging* stop - выключить зарядку аккумулятора.

 -- Тестовая прошивка -- 
* set *charging* t_positive_pulse **uint16_t time** - установить длительность положительного импульса зарядки.
* set *charging* t_negative_pulse **uint16_t time** - установить длительность отрицательного импульса зарядки.
* set *charging* need_disch_pulse **_Bool state** - установить необходимость отрицательного импульса зарядки. 


## GET команды ##
Команды возвращают нынешнее состояние системы: напряжения, уставновленное состояние системы.

### Voltage ###

* get *voltage* scheme  
* get *voltage* generator 
* get *voltage* output
* get *voltage* first_battery
* get *voltage* second_battery

### System info ###

* get *charger* mode - получить режим работы AKK, GEN.
* get *charger* output_akk - получить значение аккумулятора с которого подаётся напряжение.
* get *charger* output_pw - получить в процентах значение ширины выходного импульса.

* get *charging* akk - возвращает установленное значение AKK1, AKK2.
* get *charging* akk_mode - возвращает установленный режим зарядки DEFAULT, ONE_AKK, FULL_DISCHARGE.
* get *charging* period - возращает значение периода зарядки.

 -- Тестовая прошивка -- 

* get *charging* t_positive_pulse - получить значение положительного импульса зарядки.
* get *charging* t_negative_pulse - получить значение отрицательного импульса зарядки.
* get *charging* need_disch_pulse - получить значение необходимости отрицательного импульса зарядки.